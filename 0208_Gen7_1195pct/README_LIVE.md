# AI 实盘信号推送指南 (`live_inference.py`)

本脚本用于实时监控 Binance 市场数据，并利用已训练的 Qlib AI 模型 (LightGBM) 生成交易信号，通过 Telegram 机器人推送到您的手机。

## 1. 核心功能
- **实时数据同步**: 每分钟连接 Binance API 获取最新的 ETHUSDT 1m K线。
- **动态采样**: 自动将 1m 数据重采样为 10m 周期，与模型训练周期完美对齐。
- **实时特征工程**: 在内存中即时计算 ROC、波动率、均线乖离等因子。
- **AI 智能决策**: 调用 `.pkl` 模型对当前盘面进行打分 (Inference)。
- **即时通知**: 满足阈值条件时，自动通过 Telegram Bot 发送推送。

## 2. 配置说明 (第 21-25 行)
```python
TG_TOKEN = "..."   # 您的机器人 Token (已填入)
TG_CHAT_ID = "6290088209" # 您的个人 Telegram ID (已填入)
THRESHOLD = 0.001  # 信号敏感度。分数超过此值发出 BUY，低于负值发出 SELL。
```

## 3. 信号解读
机器人推送的消息包含以下关键信息：
- **Score (分数)**: 模型预测的下一根 10min K线的预期收益率。
    - 例如 `0.0015` 表示 AI 认为有 0.15% 的上涨潜力。
    - 分数绝对值越大，信号越强。
- **Signal (信号)**: 
    - 🟢 **BUY**: 看涨，建议关注多单机会。
    - 🔴 **SELL**: 看跌，建议关注空单机会。
    - **HOLD**: 震荡或看不准，不发送推送。

## 4. 运行流程
1. **环境准备**: 确保已激活虚拟环境 `source .venv/activate`。
2. **下载依赖**: 脚本依赖 `requests`, `pandas`, `lightgbm`。
3. **启动脚本**:
   ```bash
   python live_inference.py
   ```
4. **后台运行**: 建议在终端中使用 `screen` 或 `nohup` 运行，以保证关闭终端后程序不中断。

## 5. 安全提示 (⚠️ 重要)
- **模拟运行**: 当前脚本仅打印和推送信号，**不会自动下单**。
- **实盘转换**: 若要接入实盘下单，需在此脚本中集成 Binance API Key，并调用下单函数。建议先观察信号准确度 3-5 天后再考虑。
- **网络延迟**: 由于是连接 Binance 公开接口，网络延迟可能会对短线信号有细微影响。
